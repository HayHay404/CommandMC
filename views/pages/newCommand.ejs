<!--
CommandMC - Execute command on a Minecraft server with Twitch channel redemptions.
Copyright (C) 2022  HayHay404 <hayhayisaloser01@gmail.com>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head'); %>
</head>
<body>
    <header>
        <%- include('../partials/header'); %>
    </header>

    <div class="m-4 place-items-center grid">
        <h1 class="text-5xl">Create new reward</h1>

        <form class="form form-control w-full max-w-md" method="post">

            <label for="name" class="label label-text">Reward name</label>
            <input class="input input-bordered w-full m-2" type="text" name="name" id="name" required placeholder="Whitelist">

            <label for="command" class="label label-text">Server Command</label>
            <input class="input input-bordered w-full m-2" type="text" name="command" id="command" required placeholder="whitelist add $user">

            <label class="label cursor-pointer">
                <span for="cost" class="label-text">Cost</span>
                <input class="toggle toggle-primary" type="checkbox" name="isChannelPoint" id="isChannelPoint" checked>  
            </label>
            <input class="input input-bordered w-full m-2" type="number" name="cost" id="cost" placeholder="1000">

            <label class="label cursor-pointer">
                <span for="isSubscription" class="label-text">Subscription</span>
                <input class="toggle toggle-primary" type="checkbox" name="isSubscription" id="isSubscription">    
            </label>
            <input type="text" class="input input-bordered w-full m-2" name="subscriptionEnd" id="subscriptionEnd" disabled placeholder="Command to run on subscription end">

            <label class="label cursor-pointer">
                <label for="isBits" class="label-text">Bits</label>
                <input class="toggle toggle-primary" type="checkbox" name="isBits" id="isBits" disabled>
            </label>
            <input type="number" name="bits" id="bits" class="input input-bordered w-full m-2" disabled>

            <button class="btn btn-primary m-2">Submit</button>
        </form>
    </div>
</body>
</html>

<script>
    const bitsField = document.querySelector("#bits");
    const bitsToggle = document.querySelector("#isBits");
    const costField = document.querySelector("#cost");
    const costToggle = document.querySelector("#isChannelPoint");
    const subField = document.querySelector("#subscriptionEnd");
    const subToggle = document.querySelector("#isSubscription");

    subToggle.addEventListener("click", () => {
        if (subToggle.checked) {
            subField.required = true;
            subField.disabled = false;
        } else {
            subField.required = false;
            subField.disabled = true;
        }
    })

    costToggle.addEventListener("click", () => {
        if (costToggle.checked) {
            costField.required = true;
            costField.disabled = false;
        } else {
            costField.required = false;
            costField.disabled = true;
        }
    })

    bitsToggle.addEventListener("click", () => {
        if (bitsToggle.checked) {
            bitsField.required = true;
            bitsField.disabled = false;
        } else {
            bitsField.required = false;
            bitsField.disabled = true;
        }
    })
</script>